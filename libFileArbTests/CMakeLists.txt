project(libFileArbTests)
include(${CMAKE_SOURCE_DIR}/CMakeMacros.cmake)

set(CMAKE_INCLUDE_CURRENT_DIR ON)
include_directories(${CMAKE_SOURCE_DIR})
include_directories(${ZenUnitIncludeDirectory})
include_directories(${ZenMockIncludeDirectory})

folder_source_group(Components)
folder_source_group_subfolder(Components Console)
folder_source_group_subsubfolder(Components Console ZenMock)
folder_source_group_subfolder(Components Docopt)
folder_source_group_subsubfolder(Components Docopt ZenMock)
folder_source_group_subsubfolder(Components Docopt ZenUnit)
folder_source_group_subfolder(Components Exception)
folder_source_group_subsubfolder(Components Exception ZenMock)
folder_source_group_subfolder(Components FileArb)
folder_source_group_subsubfolder(Components FileArb ZenMock)
folder_source_group_subfolder(Components FileSystem)
folder_source_group_subsubfolder(Components FileSystem ZenMock)
folder_source_group_subfolder(Components Function)
folder_source_group_subsubfolder(Components Function Member)
folder_source_group_subsubsubfolder(Components Function Member ZenMock)
folder_source_group_subfolder(Components Misc)
folder_source_group_subfolder(Components String)
folder_source_group_subfolder(Components SubPrograms)
folder_source_group_subsubfolder(Components SubPrograms ZenMock)
folder_source_group_subsubfolder(Components SubPrograms CreateBinaryFiles)
folder_source_group_subsubsubfolder(Components SubPrograms CreateBinaryFiles ZenMock)
folder_source_group_subsubfolder(Components SubPrograms CreateTextFiles)
folder_source_group_subsubsubfolder(Components SubPrograms CreateTextFiles ZenMock)
folder_source_group_subfolder(Components Time)
folder_source_group_subsubfolder(Components Time ZenMock)
folder_source_group_subsubfolder(Components Time ZenUnit)
folder_source_group_subfolder(Components Utilities)
folder_source_group_subsubfolder(Components Utilities ZenMock)
folder_source_group(Utilities)
folder_source_group_subfolder(Utilities DataStructure)
folder_source_group(ValueTypes)
folder_source_group_subfolder(ValueTypes ZenUnit)

file(GLOB_RECURSE Sources *.h *.cpp)
source_group("" FILES ${Sources})

add_executable(libFileArbTests ${Sources})

target_link_libraries(libFileArbTests libFileArb)
if(UNIX)
   target_link_libraries(libFileArbTests stdc++fs)
   if(CodeCovMode)
     target_link_libraries(libFileArbTests CodeCovLibraryInterface)
   endif()
endif()

EnablePrecompiledHeadersIfMSVC()
IfMSVCAddRunTestsPostBuildStep()
