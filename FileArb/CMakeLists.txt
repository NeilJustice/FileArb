cmake_minimum_required(VERSION 3.5)
project(FileArb)
include(${CMAKE_SOURCE_DIR}/CMakeMacros.cmake)

source_group("" FILES FileArbMain.cpp)
include_directories(${CMAKE_SOURCE_DIR})

set(Boost_USE_STATIC_LIBS ON)
if(UNIX)
   set(BOOST_INCLUDEDIR "/usr/local/include/boost")
   set(BOOST_LIBRARYDIR "/usr/local/lib/boost")
elseif(WIN32)
   set(BOOST_INCLUDEDIR "C:/include/boost")
   set(BOOST_LIBRARYDIR "C:/lib/boost")
   set(Boost_NO_SYSTEM_PATHS ON)
endif()
find_package(Boost 1.75 REQUIRED COMPONENTS regex)
include_directories(${Boost_INCLUDE_DIRS})

add_executable(FileArb FileArbMain.cpp)
target_link_libraries(FileArb libFileArb Boost::regex)
if(UNIX)
   set_target_properties(FileArb PROPERTIES OUTPUT_NAME filearb)
endif()

install(TARGETS FileArb DESTINATION "bin")

if(UNIX AND NOT APPLE)
   target_link_libraries(FileArb stdc++fs)
   if(CodeCovMode)
     target_link_libraries(FileArb CodeCovLibraryInterface)
   endif()
endif()
